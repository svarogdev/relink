import{_ as A,D as j,T as L,o as F,B as K,S as E,C as R,p as G,I as S,q as z,s as P,t as J,v as O,w as q}from"./index.175c61fc.js";import{P as M}from"./Post.d35ff040.js";import{r as n,o as d,d as v,w as l,e as k,i as t,c,b as m,F as x,m as B,l as r,p as Z,k as H}from"./vendor.3701fcf0.js";const Q={components:{Dialog:j,TextField:L,TextArea:F,Button:K,Stepper:E,ComboBox:R,Select:G,IconButton:S,NumberPicker:z},props:{modelValue:Boolean},data(){return{name:"",location:"",description:"",mapsLocation:"",contact:"",adress:"",stepper:"Podaci",stepperItems:["Podaci","Kontakt","Tipovi","Slike"],store:P,category:"Sve",postTypes:[{name:"",limit:void 0,id:0}],index:1,avatarId:"",imageId:""}},emits:["update:modelValue"],methods:{createPost(){J(this.name,this.store.id,this.location,this.category,this.adress,this.contact,this.avatarId).then(a=>{a.status&&O(a.obj.id,this.postTypes,this.imageId,this.mapsLocation,this.description).then(e=>{this.$emit("update:modelValue",!1)})})},changeAvatar(a){this.avatarId=a},changeImage(a){this.imageId=a},newType(){this.postTypes.push({id:this.index,name:"",limit:void 0}),this.index++},remove(){this.postTypes.pop(),this.index--}}},W={class:"container card scale-up-dialog"},X={class:"tabs"},Y={key:0,class:"form"},$={class:"combo-container"},ee=r("NATRAG"),oe=r("DALJE"),te={key:1,class:"form"},se=r("NATRAG"),le=r("DALJE"),ne={key:2,class:"form"},ae=r("NATRAG"),ie=r("DALJE"),de={key:3,class:"form"},re=r("Profilna slika"),pe=r("Slika na stranici"),ce=r("NATRAG"),me=r("ZAVR\u0160I");function ue(a,e,f,N,o,u){const V=n("Stepper"),g=n("mdicon"),p=n("TextField"),h=n("ComboBox"),C=n("Select"),y=n("TextArea"),i=n("Button"),_=n("Center"),D=n("NumberPicker"),T=n("IconButton"),b=n("FileInput"),w=n("Dialog");return d(),v(w,{active:f.modelValue},{default:l(()=>[k("div",W,[k("div",X,[t(V,{modelValue:o.stepper,"onUpdate:modelValue":e[0]||(e[0]=s=>o.stepper=s),items:o.stepperItems},null,8,["modelValue","items"]),t(g,{name:"close",class:"tab close",onClick:e[1]||(e[1]=s=>a.$emit("update:modelValue",!f.modelValue))})]),o.stepper==="Podaci"?(d(),c("div",Y,[t(p,{class:"field",placeholder:"Ime stranice",modelValue:o.name,"onUpdate:modelValue":e[2]||(e[2]=s=>o.name=s)},null,8,["modelValue"]),k("div",$,[t(h,{class:"combo",items:["Kozmeti\u010Dki saloni","Iznajmljivanje","Sme\u0161taj","Restorani","Prevoz","Ostalo"],modelValue:o.category,"onUpdate:modelValue":e[3]||(e[3]=s=>o.category=s),placeholder:"Kategorija"},null,8,["modelValue"]),t(C,{class:"combo",placeholder:"Mesto",items:o.store.locations,modelValue:o.location,"onUpdate:modelValue":e[4]||(e[4]=s=>o.location=s)},null,8,["items","modelValue"])]),t(y,{modelValue:o.description,"onUpdate:modelValue":e[5]||(e[5]=s=>o.description=s),rows:8,placeholder:"Opis"},null,8,["modelValue"]),t(_,null,{default:l(()=>[t(i,{class:"stepper-control",onClick:e[6]||(e[6]=s=>a.$emit("update:modelValue",!f.modelValue))},{default:l(()=>[ee]),_:1}),t(i,{class:"stepper-control",onClick:e[7]||(e[7]=s=>o.stepper="Kontakt")},{default:l(()=>[oe]),_:1})]),_:1})])):m("",!0),o.stepper==="Kontakt"?(d(),c("div",te,[t(p,{class:"field",placeholder:"Kontakt",modelValue:o.contact,"onUpdate:modelValue":e[8]||(e[8]=s=>o.contact=s)},null,8,["modelValue"]),t(p,{class:"field",placeholder:"Adresa",modelValue:o.adress,"onUpdate:modelValue":e[9]||(e[9]=s=>o.adress=s)},null,8,["modelValue"]),t(p,{class:"field",placeholder:"Link ka lokaciji (GPS)",modelValue:o.mapsLocation,"onUpdate:modelValue":e[10]||(e[10]=s=>o.mapsLocation=s)},null,8,["modelValue"]),t(_,null,{default:l(()=>[t(i,{class:"stepper-control",onClick:e[11]||(e[11]=s=>o.stepper="Podaci")},{default:l(()=>[se]),_:1}),t(i,{class:"stepper-control",onClick:e[12]||(e[12]=s=>o.stepper="Tipovi")},{default:l(()=>[le]),_:1})]),_:1})])):m("",!0),o.stepper==="Tipovi"?(d(),c("div",ne,[(d(!0),c(x,null,B(this.postTypes,s=>(d(),c("div",{key:s.id},[t(p,{class:"inline-block field-type",placeholder:"Tip rezervacije",modelValue:s.name,"onUpdate:modelValue":I=>s.name=I},null,8,["modelValue","onUpdate:modelValue"]),t(D,{class:"inline-block",placeholder:"Broj komada/mesta",modelValue:s.limit,"onUpdate:modelValue":I=>s.limit=I},null,8,["modelValue","onUpdate:modelValue"])]))),128)),t(_,null,{default:l(()=>[t(T,{class:"type-button",onClick:u.newType,name:"plus"},null,8,["onClick"]),t(T,{class:"type-button",onClick:u.remove,name:"minus"},null,8,["onClick"])]),_:1}),t(_,null,{default:l(()=>[t(i,{class:"stepper-control",onClick:e[13]||(e[13]=s=>o.stepper="Kontakt")},{default:l(()=>[ae]),_:1}),t(i,{class:"stepper-control",onClick:e[14]||(e[14]=s=>o.stepper="Slike")},{default:l(()=>[ie]),_:1})]),_:1})])):m("",!0),o.stepper==="Slike"?(d(),c("div",de,[t(b,{id:"avatar",onUpload:u.changeAvatar},{default:l(()=>[re]),_:1},8,["onUpload"]),t(b,{id:"image",onUpload:u.changeImage},{default:l(()=>[pe]),_:1},8,["onUpload"]),t(_,null,{default:l(()=>[t(i,{class:"stepper-control",onClick:e[15]||(e[15]=s=>o.stepper="Tipovi")},{default:l(()=>[ce]),_:1}),t(i,{class:"stepper-control",onClick:u.createPost},{default:l(()=>[me]),_:1},8,["onClick"])]),_:1})])):m("",!0)])]),_:1},8,["active"])}var _e=A(Q,[["render",ue],["__scopeId","data-v-5002521c"]]);const ve={components:{Post:M,IconButton:S,NewPostDialog:_e},data(){return{posts:void 0,dialog:!1,loadingAnimation:!1,store:P}},created(){!this.store.companySide()||(this.loadingAnimation=!0,q(P.id).then(a=>{this.posts=a.obj,this.loadingAnimation=!1}))},methods:{}},U=a=>(Z("data-v-974dfe22"),a=a(),H(),a),ke={class:"container nav-bg"},fe=U(()=>k("h1",{class:"title"},"Va\u0161e stranice",-1)),Ve=U(()=>k("div",{class:"whitespace"},null,-1));function ge(a,e,f,N,o,u){const V=n("ErrorCard"),g=n("CircleProgress"),p=n("Center"),h=n("Post"),C=n("IconButton"),y=n("NewPostDialog");return d(),c("div",ke,[fe,this.store.companySide()?m("",!0):(d(),v(V,{key:0,icon:"login",label:"Stranice su dostupne samo kompanijama",caption:"Nalog mo\u017Eete napraviti klikom na dugme: "})),o.loadingAnimation?(d(),v(p,{key:1},{default:l(()=>[t(g)]),_:1})):m("",!0),(d(!0),c(x,null,B(this.posts,i=>(d(),v(h,{key:i.id,post:i},null,8,["post"]))),128)),t(p,null,{default:l(()=>[this.store.companySide()?(d(),v(C,{key:0,name:"plus",onClick:e[0]||(e[0]=i=>o.dialog=!0)})):m("",!0)]),_:1}),t(y,{modelValue:o.dialog,"onUpdate:modelValue":e[1]||(e[1]=i=>o.dialog=i)},null,8,["modelValue"]),Ve])}var Ie=A(ve,[["render",ge],["__scopeId","data-v-974dfe22"]]);export{Ie as default};
